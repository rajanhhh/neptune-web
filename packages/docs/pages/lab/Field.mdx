import { LiveEditorBlock, GeneratePropsTable } from '../../utils';
import { Field } from '@transferwise/components/build/es/polyfill/lab';
import { Checkbox, Alert, DateInput, PhoneNumberInput, Select } from '@transferwise/components';
import code from '../../liveEditorCode/field.code';

<Alert type={Alert.Type.WARNING}>
  Please note that this component is still under an experimental phase and we do not guarantee that
  the API will remain the same. Please feel free to test it and provide us a feedback to help
  improve it before the final release.
</Alert>
Field is a new component that provides validation to its children. Validation messages are automatically
attached to the validated component with styling. Currently the supported children types are:
<table className="docs-table table">
  <thead>
    <tr>
      <th>Element</th>
      <th>type</th>
      <th>Validation supported</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>input</td>
      <td>text</td>
      <td>minLenght, maxLength, required</td>
    </tr>
    <tr>
      <td>input</td>
      <td> number</td>
      <td>minimum, maximum, required</td>
    </tr>
    <tr>
      <td>Checkbox</td>
      <td>custom</td>
      <td>required</td>
    </tr>
    <tr>
      <td>DateInput</td>
      <td>custom</td>
      <td>required</td>
    </tr>
    <tr>
      <td>PhoneNumberInput</td>
      <td>custom</td>
      <td>required</td>
    </tr>
  </tbody>
</table>

<LiveEditorBlock code={code} scope={{ Field }} />
<GeneratePropsTable componentName="Field" />{' '}

## Demos

<Field
  errors={null}
  help="Please fill this form with a value length between 3 and 10"
  id="id"
  model={'Neptune is cool'}
  onChange={(val) => console.log(val)}
  submitted={false}
  title="Input type text"
  type="text"
  validation={{
    maxLength: { value: 10, message: 'The value should be shorter than 10 characters' },
    minLength: { value: 3, message: 'The value should be longer than 3 characters' },
    required: { value: true, message: 'This field is required' },
  }}
>
  <input type="text" className="form-control" />
</Field>
<Field
  errors={null}
  help="Please fill this form with a value between 3 and 10"
  id="id"
  model={null}
  onChange={(val) => console.log(val)}
  submitted={false}
  title="Input type number"
  validation={{
    minimum: { value: 3, message: 'The value should bigger than 3' },
    maximum: { value: 10, message: 'The value should smaller than 10' },
    required: { value: true, message: 'This field is required' },
  }}
>
  <input type="number" className="form-control" />
</Field>

<Field
  errors={null}
  help="Please check to accept the Neptune Web conditions."
  id="id"
  model={null}
  onChange={(val) => console.log(val)}
  submitted={false}
  type="checkbox"
  validation={{
    required: { value: true, message: 'This field is required' },
  }}
>
  <Checkbox label={'label'} onChange={(val) => console.log(val)} checked={false} />
</Field>

<Field
  errors={null}
  help="Please insert a date."
  id="id"
  title="Date Input field"
  model={null}
  onChange={(val) => console.log(val)}
  submitted={false}
  type="checkbox"
  validation={{
    required: { value: true, message: 'This field is required' },
  }}
>
  <DateInput
    onChange={(val) => console.log(val)}
    size={DateInput.Size.MEDIUM}
    value={new Date('')}
    placeholders={{
      day: 'dd',
      month: 'mm',
      year: 'YYYY',
    }}
  />
</Field>
<Field
  errors={null}
  help="Please insert a phone number."
  id="id"
  title="Phone Number Input field"
  model={null}
  onChange={(val) => console.log(val)}
  submitted={false}
  type="checkbox"
  validation={{
    required: { value: true, message: 'This field is required' },
  }}
>
  <PhoneNumberInput
    onChange={(v) => console.log(v)}
    initialValue={null}
    locale="en-GB"
    countryCode=""
    disabled={false}
    required={false}
    size="md"
    searchPlaceholder="searchPlaceholder"
    placeholder="placeholder"
  />
</Field>
<Field
  errors={null}
  help="Please insert a phone number."
  id="id"
  title="Phone Number Input field"
  model={null}
  onChange={(val) => console.log(val)}
  submitted={false}
  type="checkbox"
  validation={{
    required: { value: true, message: 'This field is required' },
  }}
>
  <Select
    size="md"
    placeholder="Placeholder"
    dropdownRight="xs"
    dropdownWidth="lg"
    inverse={false}
    block
    selected={{
      value: 0,
      label: 'A thing',
      note: 'with a note',
    }}
    disabled={false}
    onChange={(v) => setSelected(v)}
    required={false}
    searchPlaceholder="Search placeholder"
    dropdownUp={false}
    search
    options={[
      { header: 'Basic' },
      { value: 0, label: 'A thing', note: 'with a note' },
      { value: 1, label: 'Another thing', secondary: 'with secondary text this time' },
      { value: 2, label: 'A disabled thing', disabled: true },
    ]}
  />
</Field>

export const meta = {
  name: `Field`,
};
